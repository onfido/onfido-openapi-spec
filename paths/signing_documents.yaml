signing_documents:
  get:
    summary: List signing documents
    description: All signing documents belonging to an applicant can be listed from this endpoint
    operationId: list_signing_documents
    parameters:
      - name: applicant_id
        in: query
        required: true
        schema:
          type: string
          format: uuid
    responses:
      "200":
        description: List of Signing Documents
        content:
          application/json:
            schema:
              type: object
              title: Signing Documents list
              required:
                - signing_documents
              properties:
                signing_documents:
                  type: array
                  items:
                    $ref: ../schemas/signing_documents/signing_document.yaml
      default:
        $ref: ../responses/default_error.yaml

  post:
    summary: Upload a signing document
    operationId: upload_signing_document
    description: >
      Signing documents are uploaded using this endpoint.
      Signing documents must be uploaded as a multipart form. The only valid file type is pdf. The file size must be between 2KB and 3MB.
    requestBody:
      required: true
      content:
        multipart/form-data:
          schema:
            $ref: ../schemas/signing_documents/signing_document_uploader.yaml
    responses:
      "201":
        description: A signing document
        content:
          application/json:
            schema:
              $ref: ../schemas/signing_documents/signing_document.yaml
      default:
        $ref: ../responses/default_error.yaml

signing_document:
  get:
    summary: Retrieve signing document
    operationId: find_signing_document
    description: >
      A single signing document can be retrieved by calling this endpoint with the signing document's unique identifier.
    parameters:
      - name: signing_document_id
        in: path
        required: true
        schema:
          type: string
          format: uuid
    responses:
      "200":
        description: A signing document
        content:
          application/json:
            schema:
              $ref: ../schemas/signing_documents/signing_document.yaml
      default:
        $ref: ../responses/default_error.yaml

download:
  get:
    summary: Download signing document
    operationId: download_signing_document
    description: >
      Downloads specific signing documents belonging to an applicant. If successful, the response will be the binary data representing the pdf.
    parameters:
      - name: signing_document_id
        in: path
        required: true
        schema:
          type: string
          format: uuid
    responses:
      "200":
        description: The signing document binary data
        content:
          "*/*":
            schema:
              type: string
              format: binary
      default:
        $ref: ../responses/default_error.yaml
